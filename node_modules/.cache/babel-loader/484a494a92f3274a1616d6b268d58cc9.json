{"ast":null,"code":"import React,{useContext,useEffect,useRef,useReducer,useState,createContext}from\"react\";import*as d3 from'd3';import'./linechart.css';import{SentimentContext}from'../App';import{HoverSentContext}from'./graphContainer';import'../style/piechart.css';/*\navg value to put in csv\navg,30,4,66,27,5,68,23,9,67\n*/import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PieChart=function PieChart(){var SentSentimentContext=useContext(SentimentContext);var choosenSentiment=SentSentimentContext.choosenSentiment,setChoosenSentiment=SentSentimentContext.setChoosenSentiment;var SentHoverSentContext=useContext(HoverSentContext);var hoverSent=SentHoverSentContext.hoverSent,setHoverSent=SentHoverSentContext.setHoverSent;var d3Container=useRef(null);useEffect(function(){d3.select(\".root_piechart\").selectAll('*').remove();var totals=[{title:\"Positive\",value:30},{title:\"Negative\",value:20},{title:\"Neutral\",value:70}];var width=100;var height=100;var radius=Math.min(width,height)/2;var donutWidth=20;var color=d3.scaleOrdinal().range(['#63A37B','#F15645','#E5E5E5']);var svg=d3.select(d3Container.current).attr('class',\"root_piechart\").append('svg').attr('width',width).attr('height',height).append('g').attr('transform','translate('+width/2+','+height/2+')');var arc=d3.arc().innerRadius(radius-donutWidth).outerRadius(radius);var pie=d3.pie().value(function(d){return d.value;}).sort(null);var legendRectSize=13;var legendSpacing=7;var donutTip=d3.select(\"body\").append(\"div\").attr(\"class\",\"donut-tip\").style(\"opacity\",0);var path=svg.selectAll('path').data(pie(choosenSentiment.sentiment)).enter().append('path').style(\"cursor\",\"pointer\").attr('d',arc).attr('fill',function(d,i){return color(d.data.title);}).attr('transform','translate(0, 0)').on('mouseover',function(d,i){/*\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', '.85');\n                donutTip.transition()\n                    .duration(50)\n                    .style(\"opacity\", 1);\n                let num = (Math.round((d.value / d.data.all) * 100)).toString() + '%';\n                donutTip.html(num)\n                    .style(\"left\", (d3.event.pageX + 10) + \"px\")\n                    .style(\"top\", (d3.event.pageY - 15) + \"px\");\n                */d3.select('.value_text').remove();svg.append('text').attr('class','value_text').attr('x',legendRectSize+legendSpacing).attr('y',legendRectSize-legendSpacing).attr('font-size','15px').attr('text-anchor','middle').attr('fill','#4d4d4d').text(d.data.title+': '+Math.round(d.data.value)+' %').call(wrap);setHoverSent(d.data.title);}).on('mouseout',function(d,i){setHoverSent('');d3.select(this).transition().duration('50').attr('opacity','1');donutTip.transition().duration('50').style(\"opacity\",0);});/*\n        var legend = svg.selectAll('.legend')\n            .data(color.domain())\n            .enter()\n            .append('g')\n            .attr('class', 'circle-legend')\n            .attr('transform', function (d, i) {\n                var height = legendRectSize + legendSpacing;\n                var offset = height * color.domain().length / 2;\n                var horz = -2 * legendRectSize - 13;\n                var vert = i * height - offset;\n                return 'translate(' + horz + ',' + vert + ')';\n            });\n        \n        legend.append('circle')\n            .style('fill', color)\n            .style('stroke', color)\n            .attr('cx', 0)\n            .attr('cy', 0)\n            .attr('r', '.5rem');\n        \n        legend.append('text')\n            .attr('x', legendRectSize + legendSpacing)\n            .attr('y', legendRectSize - legendSpacing)\n            .text(function (d) {\n                return d;\n            });\n        */function change(data){var pie=d3.pie().value(function(d){return d.value;}).sort(null)(data);var width=360;var height=360;var radius=Math.min(width,height)/2;var donutWidth=75;path=d3.select(\"#donut\").selectAll(\"path\").data(pie);// Compute the new angles\nvar arc=d3.arc().innerRadius(radius-donutWidth).outerRadius(radius);path.transition().duration(500).attr(\"d\",arc);// redrawing the path with a smooth transition\n}function wrap(text,width){text.each(function(){var text=d3.select(this),words=text.text().split(/\\s+/).reverse(),word,line=[],lineNumber=0,lineHeight=1.1,// ems\ny=text.attr(\"y\"),dy=parseFloat(text.attr(\"dy\")),tspan=text.text(null).append(\"tspan\").attr(\"x\",0).attr(\"y\",y).attr(\"dy\",dy+\"em\");while(word=words.pop()){line.push(word);tspan.text(line.join(\" \"));if(tspan.node().getComputedTextLength()>width){line.pop();tspan.text(line.join(\" \"));line=[word];tspan=text.append(\"tspan\").attr(\"x\",0).attr(\"y\",y).attr(\"dy\",\"\".concat(++lineNumber*lineHeight+dy,\"em\")).text(word);}}});}});// close useeffect\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pieContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pieHeadline\",children:[\"Total sentiment for \",choosenSentiment.name]}),/*#__PURE__*/_jsx(\"svg\",{id:\"pieChart\",width:\"100\",height:\"100\",ref:d3Container})]})});};export default PieChart;","map":{"version":3,"sources":["/Users/lovisaforsberg/MS_vis/ms_viz/src/components/piechart.js"],"names":["React","useContext","useEffect","useRef","useReducer","useState","createContext","d3","SentimentContext","HoverSentContext","PieChart","SentSentimentContext","choosenSentiment","setChoosenSentiment","SentHoverSentContext","hoverSent","setHoverSent","d3Container","select","selectAll","remove","totals","title","value","width","height","radius","Math","min","donutWidth","color","scaleOrdinal","range","svg","current","attr","append","arc","innerRadius","outerRadius","pie","d","sort","legendRectSize","legendSpacing","donutTip","style","path","data","sentiment","enter","i","on","text","round","call","wrap","transition","duration","change","each","words","split","reverse","word","line","lineNumber","lineHeight","y","dy","parseFloat","tspan","pop","push","join","node","getComputedTextLength","name"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useReducer, useState, createContext } from \"react\";\nimport * as d3 from 'd3'\nimport './linechart.css'\nimport {SentimentContext} from '../App'\nimport {HoverSentContext} from './graphContainer'\nimport '../style/piechart.css'\n\n\n/*\navg value to put in csv\navg,30,4,66,27,5,68,23,9,67\n*/\n\nconst PieChart = ()=> {\n\n    const SentSentimentContext = useContext(SentimentContext);\n    const {choosenSentiment, setChoosenSentiment} = SentSentimentContext\n\n    const SentHoverSentContext = useContext(HoverSentContext)\n    const {hoverSent, setHoverSent} = SentHoverSentContext\n\n    const d3Container = useRef(null)\n\n    useEffect(()=>{\n    \n        d3.select(\".root_piechart\").selectAll('*').remove()\n\n        var totals = [{\n            title: \"Positive\",\n            value: 30,\n        },\n        {\n            title: \"Negative\",\n            value: 20,\n        },\n        {\n            title: \"Neutral\",\n            value: 70,\n        }\n    ];\n\n        var width = 100;\n        var height = 100;\n        var radius = Math.min(width, height) / 2;\n        var donutWidth = 20;\n        var color = d3.scaleOrdinal()\n            .range(['#63A37B','#F15645', '#E5E5E5']);\n        \n        var svg = d3.select(d3Container.current)\n        .attr('class', \"root_piechart\")\n            .append('svg')\n            .attr('width', width)\n            .attr('height', height)\n            .append('g')\n            .attr('transform', 'translate(' + (width / 2) +\n                ',' + (height / 2) + ')');\n        \n        var arc = d3.arc()\n            .innerRadius(radius - donutWidth)\n            .outerRadius(radius);\n        \n        var pie = d3.pie()\n            .value(function (d) {\n                return d.value;\n            })\n            .sort(null);\n        \n        var legendRectSize = 13;\n        var legendSpacing = 7;\n        \n        var donutTip = d3.select(\"body\").append(\"div\")\n            .attr(\"class\", \"donut-tip\")\n            .style(\"opacity\", 0);\n        \n        var path = svg.selectAll('path')\n            .data(pie(choosenSentiment.sentiment))\n            .enter()\n            .append('path')\n            .style(\"cursor\", \"pointer\")\n            .attr('d', arc)\n            .attr('fill', function (d, i) {\n                return color(d.data.title);\n            })\n            .attr('transform', 'translate(0, 0)')\n            .on('mouseover', function (d, i) {\n                /*\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', '.85');\n                donutTip.transition()\n                    .duration(50)\n                    .style(\"opacity\", 1);\n                let num = (Math.round((d.value / d.data.all) * 100)).toString() + '%';\n                donutTip.html(num)\n                    .style(\"left\", (d3.event.pageX + 10) + \"px\")\n                    .style(\"top\", (d3.event.pageY - 15) + \"px\");\n                */\n               d3.select('.value_text').remove()\n               svg.append('text')\n               .attr('class', 'value_text')\n               .attr('x', legendRectSize + legendSpacing)\n               .attr('y', legendRectSize - legendSpacing)\n               .attr('font-size', '15px')\n               .attr('text-anchor', 'middle')\n               .attr('fill', '#4d4d4d')\n               .text(d.data.title+ ': '+Math.round(d.data.value)+' %')\n               .call(wrap)\n                setHoverSent(d.data.title)\n\n        \n            })\n            .on('mouseout', function (d, i) {\n                setHoverSent('')\n                d3.select(this).transition()\n                    .duration('50')\n                    .attr('opacity', '1');\n                donutTip.transition()\n                    .duration('50')\n                    .style(\"opacity\", 0);\n                \n            });\n        \n        /*\n        var legend = svg.selectAll('.legend')\n            .data(color.domain())\n            .enter()\n            .append('g')\n            .attr('class', 'circle-legend')\n            .attr('transform', function (d, i) {\n                var height = legendRectSize + legendSpacing;\n                var offset = height * color.domain().length / 2;\n                var horz = -2 * legendRectSize - 13;\n                var vert = i * height - offset;\n                return 'translate(' + horz + ',' + vert + ')';\n            });\n        \n        legend.append('circle')\n            .style('fill', color)\n            .style('stroke', color)\n            .attr('cx', 0)\n            .attr('cy', 0)\n            .attr('r', '.5rem');\n        \n        legend.append('text')\n            .attr('x', legendRectSize + legendSpacing)\n            .attr('y', legendRectSize - legendSpacing)\n            .text(function (d) {\n                return d;\n            });\n        */\n        \n        function change(data) {\n            var pie = d3.pie()\n                .value(function (d) {\n                    return d.value;\n                }).sort(null)(data);\n        \n            var width = 360;\n            var height = 360;\n            var radius = Math.min(width, height) / 2;\n            var donutWidth = 75;\n        \n            path = d3.select(\"#donut\")\n                .selectAll(\"path\")\n                .data(pie); // Compute the new angles\n            var arc = d3.arc()\n                .innerRadius(radius - donutWidth)\n                .outerRadius(radius);\n            path.transition().duration(500).attr(\"d\", arc); // redrawing the path with a smooth transition\n        }\n\n        function wrap(text, width) {\n            text.each(function() {\n            var text = d3.select(this),\n            words = text.text().split(/\\s+/).reverse(),\n            word,\n            line = [],\n            lineNumber = 0,\n            lineHeight = 1.1, // ems\n            y = text.attr(\"y\"),\n            dy = parseFloat(text.attr(\"dy\")),\n            tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\")\n            while (word = words.pop()) {\n                line.push(word)\n                tspan.text(line.join(\" \"))\n                if (tspan.node().getComputedTextLength() > width) {\n                    line.pop()\n                    tspan.text(line.join(\" \"))\n                    line = [word]\n                    tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", `${++lineNumber * lineHeight + dy}em`).text(word)\n                }\n            }\n            })\n        }\n        \n        \n\n    }) // close useeffect\n\n    return(\n      <>\n      <div className='pieContainer'>\n          <div className='pieHeadline'>Total sentiment for {choosenSentiment.name}</div>\n        <svg id='pieChart' width=\"100\" height=\"100\" ref={d3Container}></svg>\n\n      </div>\n\n        </>\n    )\n}\n\nexport default PieChart; \n"]},"metadata":{},"sourceType":"module"}